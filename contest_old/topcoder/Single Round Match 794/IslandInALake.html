<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title>TopCoder Single Round Match 794 - 900: IslandInALake</title>
    
    <link type="image/x-icon" rel="shortcut icon" href="http://www.topcoder.com/i/favicon.ico"/>
    

    
    <style type="text/css">
        /* font */
body {
    font-family: Helvetica, Arial, Verdana, sans-serif;
    font-size: 16px;
    line-height: 1.2em;
}
ul.constraints > li:before, ul.notes > li:before {
    font-family: monospace;
    font-weight: normal;
}
.heading {
    font-weight: bold;
    font-size: 175%;
    line-height: 1.2em;
}
.section .section-title {
    font-weight: bold;
    font-size: 125%;
}
ol.testcases > li:before {
    font-family: monospace;
}
type {
    font-weight: bold;
    font-family: monospace;
}
li.testcase .data {
    font-family: monospace;
    line-height: 1.5em;
}

/* layout */
.heading {
    margin-top: 0.1em;
    margin-bottom:0.1em;
    text-align: center;
}
.section .section-title {
    margin-top : 1em;
    margin-bottom: 1em;
}
.problem-intro, note, user-constraint {
    padding-left: 1.25em;
}

/* Lists */
ul.constraints, ul.notes, ul.variables, ul.problem-definition-lines {
    list-style-type: none;
    padding: 0px;
}
ul.constraints > li:before {
    content: "-";
    position:relative;
    margin-left: 0px; /* optional, for multiline li element */
    left: 0.625em;
}
ul.notes > li:before {
    content: "-";
    position:relative;
    margin-left: 0px; /* optional, for multiline li element */
    left: 0.625em;
}

/* Testcases */
li.testcase {
    line-height: 1.1em;
    padding-top: 0.625em;
    padding-bottom: 0.625em;
    overflow: auto;
}
li.testcase > .testcase-content > div { padding-bottom: 0.5em; padding-left: 1em; }

li.testcase .testcase-comment {
    margin: 0;
    padding-left: 1em;
}
.testcase-comment p:first-child { margin-top: 0; }
.testcase-comment p:last-child { margin-bottom: 0; }

li.testcase .testcase-content {
    margin: 0.31em;
}

/* Data and variables */
.testcase-output {
    padding: 0.2em 1em 0.2em 0em;
}
.variables, .testcase-output {
    margin-left: 0.5em;
    display: table;
    margin-bottom: 0px;
    margin-top: 0px;
}
.variable {
    display: table-row;
}
.variable .name {
    padding: 0.2em 0em 0.2em 1em;
    font-weight: bold;
    display: table-cell;
    text-align: right;
}
.testcase-output .prefix {
    padding: 0.2em 0em 0.2em 1em;
    display: table-cell;
}
.testcase-output .prefix:after {
    content : ":";
    padding-right: 0.5em;
}
.variable .name:after {
    font-weight: bold;
    content : ":";
    padding-right: 0.5em;
}
.variable .value, .testcase-output .value {
    padding: 0.2em 1em 0.2em 0em;
    display: table-cell;
}
ol.testcases {
    padding: 0px;
    counter-reset: test_number -1;
}
ol.testcases > li {
    list-style:none;
}
ol.testcases > li:before {
    counter-increment:test_number;
    display: block;
    clear: both;
    content:counter(test_number) ")";
    color: inherit;
    background: inherit;
}

/* Problem Definition */
.problem-definition, .problem-limits {
    padding-left: 1.25em;
}
.problem-definition-lines, .limit-lines {
    display: table;
    margin-top: 0px;
    margin-bottom: 0px;
    padding-left: 0px;
}
.definition-line, .limit-line {
    display: table-row;
    height: 1.5em;
    overflow: auto;
}
.limit-name:after {
    content: ":";
    margin-right: 1em;
}
.definition-name, .definition-value, .limit-name, .limit-value {
    display: table-cell;
}
.definition-value {
    padding-left: 0.5em;
}
.definition-name:after {
    content: ":";
}
#contest-division:before {
    content: "Div ";
}
#problem-score:before {
    content: "- Problem ";
}
#problem-name {
    display: block;
}

/* Tags, hidden default */
.tag {
    visibility: hidden;
    position: absolute;
}

        body {
    /* font color */
    color: #333333;
    /* background color */
    background-color: white;
}
.section .section-title {
    /* title color */
    color: black;
}
li.testcase .data {
    /* highlight color */
    background: #eee;
}

    </style>
    
    
    

</head>

<body>
    <h1 class="heading">
        <span id='contest-name'>Single Round Match 794</span>
        
        <span id='problem-score'>900</span>
        <span id='problem-name'>IslandInALake</span>
    </h1>

    <hr />

    <!-- Problem Statement -->
    <div class="section">
        <h2 class="section-title">Problem Statement</h2>
        <div class="problem-intro">
            <intro escaped="1"><p>
You are given the <type>String[]</type> <b>country</b> that contains a rectangular map of a region.
The map is divided into cells, and each cell is either water ('.') or land ('#').
All cells on the border of the map are water cells.
</p>
<p>
Boats can travel between water cells by moving in the four cardinal directions (&quot;up, down, left, right&quot;).
Two water cells belong to the same body of water if a boat can reach one of those cells from the other (without going onto land).
The body of water that contains the border of the map is the sea, all other bodies of water are lakes.
</p>
<p>
Rabbits can travel between land cells by moving in eight directions (not just horizontally and vertically, but also diagonally).
Two land cells belong to the same island if a rabbit can reach one of those cells from the other (without going into water).
</p>
<p>
You have just inherited an unlimited amount of soil.
You want to use it to build your own island somewhere in this region.
You really dislike saltwater, so you want to build your island on one of the lakes (and not in the sea).
Obviously, your island must be a single island (as defined above) and it must not touch any of the existing islands.
</p>
<p>
Compute and return the largest possible number of cells that can form your new island-in-a-lake.
Return 0 if it's not possible to build a new island in a lake.
</p></intro>
        </div>
    </div>
    
    <!-- Problem definition -->
    
    <div class="section" id="definition">
        <h2 class="section-title">Definition</h2>
        <div class="problem-definition">
            <ul class="problem-definition-lines">
                <li class="definition-line" id='class-line'>
                    <span class='definition-name'>Class</span>
                    <span class='definition-value'>IslandInALake</span>
                </li>
                <li class="definition-line" id='method-line'>
                    <span class='definition-name'>Method</span>
                    <span class='definition-value'>build</span>
                </li>
                <li class="definition-line" id='parameters-line'>
                    <span class='definition-name'>Parameters</span>
                    <span class='definition-value'>
                    
                        vector&lt;string&gt;
                    
                    </span>
                </li>
                <li class="definition-line" id='returns-line'>
                    <span class='definition-name'>Returns</span>
                    <span class='definition-value'>
                        int
                    </span>
                </li>
                <li class="definition-line" id='signature-line'>
                    <span class='definition-name'>Method signature</span>
                    <span class='definition-value'>
                        int build(vector&lt;string&gt; country)
                    </span>
                </li>
            </ul>
            <div class="problem-definition-public-tip">(be sure your method is public)</div>
        </div>        
    </div>
    

    <!-- Limits -->
    <div class="section">
        <h2 class="section-title">Limits</h2>
        <div class='problem-limits'>
            <ul class="limit-lines">
                <li class='limit-line'>
                    <span class='limit-name'>Time limit (s)</span>
                    <span class='limit-value'>2.000</span>
                </li>
                <li class='limit-line'>
                    <span class='limit-name'>Memory limit (MB)</span>
                    <span class='limit-value'>256</span>
                </li>
            </ul>
        </div>
    </div>

    
    
    <!-- Constraints -->
    <div class="section">
        <h2 class="section-title">Constraints</h2>
        <ul class="constraints">
        
            <li><user-constraint escaped="1"><b>country</b> will contain between 1 and 50 elements, inclusive.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each element of <b>country</b> will contain between 1 and 50 characters.</user-constraint></li>
        
            <li><user-constraint escaped="1">All elements of <b>country</b> will contain the same number of characters.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each character in <b>country</b> will be either '.' or '#'.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each character on the boundary of <b>country</b> (i.e., first+last row+column) will be '.'.</user-constraint></li>
        
        </ul>
    </div>

    <!-- Test cases -->
    <div class="section">
        <h2 class="section-title">Test cases</h2>
        <ol class="testcases" start='0'>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">country</span>
                                <span class="value data">
                                
                                    {&quot;......&quot;,<br />&nbsp;&quot;......&quot;,<br />&nbsp;&quot;......&quot;,<br />&nbsp;&quot;......&quot;,<br />&nbsp;&quot;......&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            0
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">Only the sea. No islands, no lakes, nowhere to build our new island-in-a-lake.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">country</span>
                                <span class="value data">
                                
                                    {&quot;.......&quot;,<br />&nbsp;&quot;..##...&quot;,<br />&nbsp;&quot;.##..#.&quot;,<br />&nbsp;&quot;..#.#..&quot;,<br />&nbsp;&quot;.......&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            0
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">Two islands in the sea. One has five cells, the other one has two. No lakes anywhere.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">country</span>
                                <span class="value data">
                                
                                    {&quot;.......&quot;,<br />&nbsp;&quot;.####..&quot;,<br />&nbsp;&quot;.#...#.&quot;,<br />&nbsp;&quot;.#####.&quot;,<br />&nbsp;&quot;.......&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            0
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">One island with a lake that consists of three cells. The lake is too narrow, we cannot build any new island inside the lake.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">country</span>
                                <span class="value data">
                                
                                    {&quot;..........&quot;,<br />&nbsp;&quot;.####.....&quot;,<br />&nbsp;&quot;.#...#....&quot;,<br />&nbsp;&quot;.#...#....&quot;,<br />&nbsp;&quot;.#...#....&quot;,<br />&nbsp;&quot;.#####....&quot;,<br />&nbsp;&quot;..........&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            1
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">This time we can build a single-cell island inside the lake. The new map would then look as follows (with the new island denoted by an asterisk):
<pre>
..........
.####.....
.#...#....
.#.*.#....
.#...#....
.#####....
..........
</pre></div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">country</span>
                                <span class="value data">
                                
                                    {&quot;............&quot;,<br />&nbsp;&quot;.####.#####.&quot;,<br />&nbsp;&quot;.#...#....#.&quot;,<br />&nbsp;&quot;.#........#.&quot;,<br />&nbsp;&quot;.#...#....#.&quot;,<br />&nbsp;&quot;.#########..&quot;,<br />&nbsp;&quot;............&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            2
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">A bigger island, still with a single lake. There are now multiple ways to build a new island on this lake, including one way of building an island that consists of two adjacent cells.
<pre>
............
.####.#####.
.#...#....#.
.#.....**.#.
.#...#....#.
.#########..
............
</pre></div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">country</span>
                                <span class="value data">
                                
                                    {&quot;...........&quot;,<br />&nbsp;&quot;..#####....&quot;,<br />&nbsp;&quot;..#....##..&quot;,<br />&nbsp;&quot;..#.....#..&quot;,<br />&nbsp;&quot;...#.....#.&quot;,<br />&nbsp;&quot;..#.#....#.&quot;,<br />&nbsp;&quot;.#...#...#.&quot;,<br />&nbsp;&quot;..###.###..&quot;,<br />&nbsp;&quot;...........&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            3
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">This map contains a single island and there are two lakes on this island. One is too small to build on, the other can contain a new island of size 3 as shown below.
<pre>
...........
..#####....
..#....##..
..#..*..#..
...#..*..#.
..#.#..*.#.
.#...#...#.
..###.###..
...........
</pre></div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">country</span>
                                <span class="value data">
                                
                                    {&quot;...........&quot;,<br />&nbsp;&quot;.#########.&quot;,<br />&nbsp;&quot;.#.......#.&quot;,<br />&nbsp;&quot;.#.#####.#.&quot;,<br />&nbsp;&quot;.#.#...#.#.&quot;,<br />&nbsp;&quot;.#.#...#.#.&quot;,<br />&nbsp;&quot;.#.#...#.#.&quot;,<br />&nbsp;&quot;.#.#####.#.&quot;,<br />&nbsp;&quot;.#.......#.&quot;,<br />&nbsp;&quot;.#########.&quot;,<br />&nbsp;&quot;...........&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            1
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">We can build a 1-cell island in the center of this map. The lake that contains it is actually a lake on an island that is on a lake on an island, but we do not care about that. Any lake (i.e., any body of water other than the sea) can be used for building.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">country</span>
                                <span class="value data">
                                
                                    {&quot;...........&quot;,<br />&nbsp;&quot;.#########.&quot;,<br />&nbsp;&quot;.#.......#.&quot;,<br />&nbsp;&quot;.#.#####.#.&quot;,<br />&nbsp;&quot;.#.#...#...&quot;,<br />&nbsp;&quot;.#.#...#.#.&quot;,<br />&nbsp;&quot;.#.#...#.#.&quot;,<br />&nbsp;&quot;.#.###.#.#.&quot;,<br />&nbsp;&quot;.#.......#.&quot;,<br />&nbsp;&quot;.#########.&quot;,<br />&nbsp;&quot;...........&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            0
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">This map looks similar to the previous one, but this one actually contains two separate islands, and all water is sea so we cannot build our island anywhere.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">country</span>
                                <span class="value data">
                                
                                    {&quot;...........&quot;,<br />&nbsp;&quot;.#########.&quot;,<br />&nbsp;&quot;.#.......#.&quot;,<br />&nbsp;&quot;.#.......#.&quot;,<br />&nbsp;&quot;.#.......#.&quot;,<br />&nbsp;&quot;.#.......#.&quot;,<br />&nbsp;&quot;.#.......#.&quot;,<br />&nbsp;&quot;.#.......#.&quot;,<br />&nbsp;&quot;.#...#...#.&quot;,<br />&nbsp;&quot;.#.......#.&quot;,<br />&nbsp;&quot;.#.......#.&quot;,<br />&nbsp;&quot;.#.......#.&quot;,<br />&nbsp;&quot;.#########.&quot;,<br />&nbsp;&quot;...........&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            31
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">The optimal new island is shown below. Notice how it goes around the existing tiny island.
<pre>
...........
.#########.
.#.......#.
.#.*****.#.
.#.*****.#.
.#.*****.#.
.#.*****.#.
.#.*...*.#.
.#.*.#.*.#.
.#.*...*.#.
.#.*****.#.
.#.......#.
.#########.
...........
</pre></div>
                    </div>
                    
               
                </div>
            </li>
            
        </ol>
    </div>
    <hr />

    This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2003, TopCoder, Inc. All rights reserved.
</body>
</html>
